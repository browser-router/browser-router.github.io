{"version":3,"sources":["../../browser-router/dist/core/browser-router.js","../../path-resolver/dist/index.js","../../path-resolver/dist/core/path-resolver.js","../../browser-router/dist/core/location-handler.js","../../browser-router/dist/core/task.js","pages/IndexPage.tsx","pages/FirstPage.tsx","pages/Second/SecondPage.tsx","pages/Second/Pic/PicPage.tsx","pages/Second/Pic/pic.png","pages/CanDeactivateCheckPage.tsx","pages/Auth/auth.service.ts","pages/Auth/ProtectedByAuthorization.tsx","pages/Auth/LoginPage.tsx","routes.tsx","di/di-container.ts","index.tsx","../../browser-router/dist/index.js","di/useDIInstance.ts","routing/index.ts","routing/hooks/useDocumentTitle.ts","routing/components/ActionData/ActionData.tsx","../../browser-router/dist/core/contract.js","../../path-resolver/dist/core/contract.js","../../path-resolver/dist/globals.js","../../browser-router/dist/globals.js","routing/components/Link.tsx","components/GitGetCode/GitGetCode.tsx","components/BtnNavigate/BtnNavigate.tsx","components/Header/Header.tsx","components/Main.tsx","components/Footer/Footer.tsx","templates/General/GeneralTemplate.tsx","routing/start-router.tsx","routing/components/NotFound.tsx","routing/globals.ts"],"names":["Object","defineProperty","exports","value","BrowserRouter","path_resolver_1","require","history_1","rxjs_1","operators_1","globals_1","location_handler_1","contract_1","routes","options","defaultOptions","this","history","createBrowserHistory","componentSubj","Subject","componentData$","asObservable","pipe","filter","elem","component","distinctUntilChanged","shareReplay","pathResolver","PathResolver","locationHandler","LocationHandler","document","defaultView","Error","window","ctx","goWithoutChangingLocation","listen","onLocationChange","bind","location","processLocation","then","task","routeActivation","isCanceled","result","id","trace","to","convertGoToFromStr","isGoAway","goAway","isSameLocation","push","createPath","_a","update","action","Action","Push","assign","state","key","currentPath","back","forward","url","getUrl","target","open","replace","blocker","block","text","enableTrace","console","log","isEqualPaths","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","init","path_to_regexp_1","forEach","r","route","cloneRoute","path","errorLeadSlash","calcPath","redirectTo","calcTo","customTo","calcCustomTo","children","pathname","find","parentRoute","i","length","matching","match","needToMatchChildren","pathParams","params","compile","found","cloneResult","parentPath","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","apply","task_1","router","tasks","taskId","Task","isTaskExist","resolveRoute","data","createTask","runLifecycle","finally","removeTask","resolved","addTask","getTask","stage","__importDefault","mod","__esModule","react_1","stageCanActivate","blockNavigation","stageProcessResult","stageInvokeRoutesAction","stageSummarize","catch","err","unblockNavigation","routeActionData","getRouteActionData","isCompleted","canActivate","invokeAction","skip","context_for_Redirect_or_Go","previousActionData","redirect","search","hash","isRedirect","addFirstSymbol","go","injectRoutingProps","previous","keys","excludeFirstSymbol","note","injectRouteActionsDataToComponent","props","default","isValidElement","cloneElement","name","actionResult","correctResultFromAction","canDeactivate","blockHandler","tx","pass","retry","unblockNavigationFn","createPathStr","IndexPage","useDocumentTitle","href","title","actionData","FirstPage","React","Component","SecondPage","PicPage","src","alt","width","CanDeactivateCheckPage","LOGGED_KEY","AuthService","container","localStorage","getItem","username","password","setItem","removeItem","ProtectedByAuthorization","useDIInstance","auth","onClick","logOut","LoginPage","useState","setUsername","setPassword","htmlFor","required","type","onChange","event","logIn","alert","setTimeout","a","isLoggedIn","tryRelocation","confirm","routerOptions","register","useValue","startRouter","getElementById","token","useEffect","ActionData","textareaRef","useRef","useLayoutEffect","current","autosize","className","JSON","stringify","readOnly","ref","r2","symbol","slice","origin","p1","p2","Link","preventDefault","currentTarget","GitGetCode","viewBox","d","githubSvgPath","BtnNavigate","isBack","buttonRef","handleClick","focus","classNames","arrowPath","Header","goBack","goForward","Main","Footer","GeneralTemplate","root","tap","ReactDOM","render","subscribe","start","NotFound","getPreviousRouteActionData","notFoundTxt"],"mappings":"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","file":"static/js/main.3509564c.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserRouter = void 0;\nconst path_resolver_1 = require(\"@do-while-for-each/path-resolver\");\nconst history_1 = require(\"history\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst globals_1 = require(\"../globals\");\nconst location_handler_1 = require(\"./location-handler\");\nconst contract_1 = require(\"./contract\");\nclass BrowserRouter {\n    constructor(routes, options = contract_1.defaultOptions) {\n        this.options = options;\n        this.history = history_1.createBrowserHistory(); // https://github.com/ReactTraining/history/blob/master/docs/getting-started.md#basic-usage\n        this.componentSubj = new rxjs_1.Subject();\n        this.componentData$ = this.componentSubj.asObservable().pipe(operators_1.filter(elem => !!(elem === null || elem === void 0 ? void 0 : elem.component)), operators_1.distinctUntilChanged(), operators_1.shareReplay(1));\n        this.pathResolver = new path_resolver_1.PathResolver(routes, options.pathResolver);\n        this.locationHandler = new location_handler_1.LocationHandler(this);\n        if (!(document === null || document === void 0 ? void 0 : document.defaultView))\n            throw new Error(`Object 'window' must be present, because this is Browser Router`);\n        this.window = document.defaultView;\n    }\n    get currentPath() {\n        return globals_1.createPath(this.window.location);\n    }\n    start(ctx) {\n        this.goWithoutChangingLocation(ctx);\n        this.history.listen(this.onLocationChange.bind(this));\n    }\n    onLocationChange({ location }) {\n        this.locationHandler\n            .processLocation(location)\n            .then(task => this.routeActivation(task));\n    }\n    routeActivation(task) {\n        if (!task)\n            return;\n        const { isCanceled, result, id } = task;\n        isCanceled\n            ? this.trace(id, 'canceled')\n            : result();\n    }\n    go(to, ctx) {\n        to = globals_1.convertGoToFromStr(to);\n        if (globals_1.isGoAway(to)) {\n            this.goAway(to);\n        }\n        else {\n            if (this.isSameLocation(to)) {\n                this.goWithoutChangingLocation(ctx);\n            }\n            else {\n                this.history.push(globals_1.createPath(to), ctx);\n            }\n        }\n    }\n    /**\n     *  At the moment when:\n     *    - the page is loaded for the first time;\n     *    - the page is refreshed;\n     *    - user changed the location to the same one.\n     *  we don't need to go anywhere => so we don't need to run this.go(...),\n     *  because we are already in the target location.\n     *  We just need to find the route and activate it.\n     */\n    goWithoutChangingLocation(ctx = null) {\n        var _a;\n        const update = {\n            action: history_1.Action.Push,\n            location: Object.assign({ state: ctx, key: ((_a = this.window.history.state) === null || _a === void 0 ? void 0 : _a.key) || 'default' }, this.currentPath)\n        };\n        this.onLocationChange(update);\n    }\n    goBack() {\n        this.history.back();\n    }\n    goForward() {\n        this.history.forward();\n    }\n    goAway(to) {\n        to = globals_1.convertGoToFromStr(to);\n        const url = globals_1.getUrl(to);\n        if (!url)\n            return;\n        if (to.target === '_blank') {\n            this.window.open(url, '_blank');\n        }\n        else {\n            this.window.location.assign(url);\n        }\n    }\n    redirect(to, ctx) {\n        to = globals_1.convertGoToFromStr(to);\n        this.history.replace(to, ctx);\n    }\n    block(blocker) {\n        return this.history.block(blocker);\n    }\n    //region Utils\n    trace(id, text) {\n        if (this.options.enableTrace)\n            console.log(`[ ${id} ]`, text);\n    }\n    isSameLocation(to) {\n        return globals_1.isEqualPaths(to, this.currentPath);\n    }\n}\nexports.BrowserRouter = BrowserRouter;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./core/contract\"), exports);\n__exportStar(require(\"./core/path-resolver\"), exports);\n__exportStar(require(\"./globals\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = exports.PathResolver = void 0;\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst contract_1 = require(\"./contract\");\nconst globals_1 = require(\"../globals\");\nclass PathResolver {\n    constructor(routes, options = contract_1.defaultOptions) {\n        this.options = options;\n        this.routes = [];\n        routes.forEach(r => {\n            const route = globals_1.cloneRoute(r);\n            if (route.path[0] === '/')\n                throw errorLeadSlash(route.path);\n            // Step 1. All root paths get a prefix '/'\n            route.path = exports.init.calcPath(route.path, '/');\n            route.redirectTo = exports.init.calcTo(route.redirectTo, '/');\n            route.customTo = exports.init.calcCustomTo(route.customTo, '/');\n            // Step 2. All children paths are obtained as follows:\n            //         [full parent path] + '/' + [child path]\n            route.children = exports.init.children(route);\n            this.routes.push(route);\n        });\n    }\n    resolve(pathname) {\n        this.trace(`resolving '${pathname}'`);\n        return this.find(pathname, this.routes);\n    }\n    find(pathname, routes, parentRoute) {\n        if (!routes)\n            return;\n        for (let i = 0; i < routes.length; i++) {\n            const route = globals_1.cloneRoute(routes[i]);\n            const matching = path_to_regexp_1.match(route.path)(pathname);\n            this.trace(`[${!!matching ? 'v' : 'x'}] ${route.path}`);\n            if (matching && !needToMatchChildren(route)) {\n                const pathParams = matching.params;\n                if (route.redirectTo) {\n                    route.redirectTo = path_to_regexp_1.compile(route.redirectTo)(pathParams);\n                }\n                if (route.customTo) {\n                    route.customTo.pathname = path_to_regexp_1.compile(route.customTo.pathname)(pathParams);\n                }\n                return { route, pathParams, parentRoute };\n            }\n            const found = this.find(pathname, route.children, route);\n            if (found)\n                return found;\n        }\n    }\n    correctResultFromAction(pathname, result, route, parentRoute) {\n        if (result.redirectTo === undefined && result.customTo === undefined)\n            return;\n        const res = globals_1.cloneResult(result);\n        const parentPath = parentRoute ? parentRoute.path : '/';\n        result.redirectTo = exports.init.calcTo(result.redirectTo, parentPath);\n        result.customTo = exports.init.calcCustomTo(result.customTo, parentPath);\n        const matching = path_to_regexp_1.match(route.path)(pathname);\n        if (matching) {\n            const pathParams = matching.params;\n            if (result.redirectTo !== undefined) {\n                result.redirectTo = path_to_regexp_1.compile(result.redirectTo)(pathParams);\n            }\n            if (result.customTo) {\n                result.customTo.pathname = path_to_regexp_1.compile(result.customTo.pathname)(pathParams);\n            }\n        }\n    }\n    trace(path) {\n        if (this.options.enableTrace)\n            console.log(' ', path);\n    }\n}\nexports.PathResolver = PathResolver;\nexports.init = {\n    calcPath: (path, parentPath) => {\n        if (path === '') {\n            return parentPath;\n        }\n        else {\n            const prefix = parentPath === '/' ? '' : parentPath;\n            return prefix + '/' + path;\n        }\n    },\n    calcTo: (to, parentPath) => {\n        if (typeof to === 'string') {\n            if (to === '')\n                return parentPath;\n            else if (to[0] === '/')\n                return to;\n            else {\n                const prefix = parentPath === '/' ? '/' : parentPath + '/';\n                return prefix + to;\n            }\n        }\n    },\n    calcCustomTo: function (to, parentPath) {\n        if (to) {\n            to.pathname = this.calcTo(to.pathname, parentPath);\n            return to;\n        }\n    },\n    children: function ({ path: parentPath, children: routes }) {\n        if (!routes)\n            return;\n        const children = [];\n        for (let i = 0; i < routes.length; i++) {\n            const route = globals_1.cloneRoute(routes[i]);\n            const { path } = route;\n            if (path[0] === '/')\n                throw errorLeadSlash(path);\n            children.push(route);\n            route.path = this.calcPath(path, parentPath);\n            route.redirectTo = this.calcTo(route.redirectTo, parentPath);\n            route.customTo = this.calcCustomTo(route.customTo, parentPath);\n            route.children = this.children(route);\n        }\n        return children;\n    },\n};\nconst needToMatchChildren = ({ redirectTo, component, children }) => redirectTo === undefined && component === undefined // if 'redirectTo' and 'component' are omitted\n    && children !== undefined && children.length > 0 // but children are available\n;\nconst errorLeadSlash = (path) => new Error(`Invalid configuration of route, because path [ ${path} ] cannot start with a slash`);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocationHandler = void 0;\nconst task_1 = require(\"./task\");\nclass LocationHandler {\n    constructor(router) {\n        this.router = router;\n        this.tasks = {};\n    }\n    processLocation(location) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const taskId = task_1.Task.id(location);\n            this.trace(taskId, 'start processing location');\n            if (this.isTaskExist(taskId)) {\n                this.trace(taskId, 'duplicate, skipped');\n                return;\n            }\n            return this.resolveRoute({ location, taskId })\n                .then(data => this.createTask(data))\n                .then(task => task.runLifecycle())\n                .finally(() => this.removeTask(taskId));\n        });\n    }\n    resolveRoute({ location, taskId }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.trace(taskId, 'resolving route...');\n            const resolved = this.router.pathResolver.resolve(location.pathname);\n            if (!resolved)\n                throw new Error(`Cannot match any routes for [ ${taskId} ]`);\n            return { taskId, location, resolved };\n        });\n    }\n    createTask({ taskId, location, resolved }) {\n        const task = new task_1.Task(taskId, location, resolved, this.router);\n        if (!this.addTask(taskId))\n            task.isCanceled = true;\n        return task;\n    }\n    isTaskExist(id) {\n        return !!this.getTask(id);\n    }\n    getTask(id) {\n        return this.tasks[`${id}`];\n    }\n    addTask(id) {\n        if (!this.isTaskExist(id)) {\n            this.tasks[`${id}`] = true;\n            return true;\n        }\n    }\n    removeTask(id) {\n        delete this.tasks[`${id}`];\n    }\n    trace(taskId, stage) {\n        this.router.trace(taskId, stage);\n    }\n}\nexports.LocationHandler = LocationHandler;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Task = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst globals_1 = require(\"../globals\");\nclass Task {\n    constructor(id, location, resolved, router) {\n        this.id = id;\n        this.location = location;\n        this.resolved = resolved;\n        this.router = router;\n        this.isCanceled = false; // the task can be canceled if the user changed the location while the current one was being processed\n        this.runLifecycle = () => this.stageCanActivate()\n            .then(() => this.blockNavigation()) // if 'canDeactivate' action is defined\n            .then(() => this.stageProcessResult(this.route))\n            .then(() => this.stageInvokeRoutesAction())\n            .then(() => this.stageSummarize())\n            .catch(err => {\n            this.unblockNavigation();\n            throw err;\n        });\n        this.route = resolved.route;\n        this.parentRoute = resolved.parentRoute;\n        this.routeActionData = this.getRouteActionData();\n    }\n    isCompleted() {\n        if (!this.isCanceled)\n            this.isCanceled = !this.router.isSameLocation(this.location);\n        return this.isCanceled || !!this.result;\n    }\n    stageCanActivate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isCompleted() || !this.route.canActivate)\n                return;\n            const stage = `invoke 'canActivate' action`;\n            this.trace(stage);\n            yield this.invokeAction(this.route.canActivate, 'canActivate', stage);\n        });\n    }\n    stageProcessResult({ redirectTo, customTo, component, skip }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isCompleted())\n                return;\n            this.trace('process result');\n            const stage = '->';\n            if (skip) {\n                this.trace(`${stage} go to the next stage`);\n                return skip;\n            }\n            const context_for_Redirect_or_Go = { previousActionData: this.routeActionData };\n            if (redirectTo) {\n                this.result = () => {\n                    this.trace(`${stage} redirectTo`);\n                    this.router.redirect(redirectTo, context_for_Redirect_or_Go);\n                };\n                return;\n            }\n            else if (customTo) {\n                let { pathname, search, hash, isRedirect } = customTo;\n                search = globals_1.addFirstSymbol('?', search);\n                hash = globals_1.addFirstSymbol('#', hash);\n                const to = { pathname, search, hash };\n                isRedirect = isRedirect === undefined || isRedirect === true;\n                this.result = isRedirect\n                    ? () => {\n                        this.trace(`${stage} redirectTo`);\n                        this.router.redirect(to, context_for_Redirect_or_Go);\n                    }\n                    : () => {\n                        this.trace(`${stage} goTo`);\n                        this.router.go(to, context_for_Redirect_or_Go);\n                    };\n                return;\n            }\n            else if (component) {\n                component = this.injectRoutingProps(component);\n                this.result = () => {\n                    this.trace(`${stage} component`);\n                    this.router.componentSubj.next({\n                        component: component,\n                        routeActionData: this.routeActionData\n                    });\n                };\n                return;\n            }\n            this.trace(`  unprocessed`);\n        });\n    }\n    stageInvokeRoutesAction() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isCompleted() || !this.route.action)\n                return;\n            const stage = `invoke 'action'`;\n            this.trace(stage);\n            yield this.invokeAction(this.route.action, 'action', stage);\n        });\n    }\n    stageSummarize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.trace('location processed');\n            if (!this.isCompleted())\n                throw new Error(`Impossible to process of resolved route for [ ${this.id} ]`);\n            return this;\n        });\n    }\n    //region Handlers\n    getRouteActionData() {\n        let { pathname, search, hash, state, key } = this.location;\n        const previous = state === null || state === void 0 ? void 0 : state.previousActionData;\n        if (previous) {\n            state === null || state === void 0 ? true : delete state.previousActionData;\n            if (state && Object.keys(state).length === 0) {\n                state = null;\n            }\n        }\n        return {\n            target: {\n                pathname,\n                pathParams: this.resolved.pathParams,\n                search: globals_1.excludeFirstSymbol('?', search),\n                hash: globals_1.excludeFirstSymbol('#', hash),\n            },\n            ctx: state,\n            note: this.route.note,\n            previous,\n            key,\n        };\n    }\n    injectRoutingProps(component) {\n        if (!this.options.injectRouteActionsDataToComponent)\n            return component;\n        if (typeof component === 'object') {\n            this.trace('  inject routing props to component');\n            const props = { routeActionData: this.routeActionData };\n            if (react_1.default.isValidElement(component)) {\n                return react_1.default.cloneElement(component, props);\n            }\n            // else if() {}        // condition and inject for component in Your case\n        }\n        return component;\n    }\n    invokeAction(action, name, stage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let actionResult;\n            try {\n                actionResult = (yield action(this.routeActionData));\n            }\n            catch (e) {\n                throw new Error(`Error in route ${name}(...) for [ ${this.id} ]. ${e}`);\n            }\n            this.pathResolver.correctResultFromAction(this.location.pathname, actionResult, this.route, this.parentRoute);\n            const skip = yield this.stageProcessResult(actionResult);\n            if (!skip && !this.isCompleted()) {\n                // If the route action does not return one of {redirectTo / customTo / component},\n                // so here you need to send the actionResult to the waiting listeners,\n                // but why anyone would want to do that - I can't think of a single case...\n                this.isCanceled = true;\n                this.trace(`${stage} -> unknown result`);\n            }\n        });\n    }\n    //endregion\n    //region CanDeactivate\n    blockNavigation() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const canDeactivate = this.route.canDeactivate;\n            if (this.isCompleted() || !canDeactivate)\n                return;\n            this.trace(`block navigation out from [ ${this.id} ]`);\n            const routeActionData = this.getRouteActionData();\n            /**\n             *  https://github.com/ReactTraining/history/blob/master/docs/blocking-transitions.md\n             */\n            const blockHandler = (tx) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    this.trace(`invoke 'canDeactivate' action`);\n                    const pass = yield canDeactivate(tx.location, routeActionData);\n                    this.trace(`${pass ? 'can' : 'cannot'} be deactivated to [ ${Task.id(tx.location)} ]`);\n                    if (pass) {\n                        this.unblockNavigation();\n                        tx.retry();\n                    }\n                }\n                catch (e) {\n                    this.unblockNavigation();\n                    throw new Error(`Error in route 'canDeactivate' action for [ ${this.id} ]. ${e}`);\n                }\n            });\n            this.unblockNavigationFn = this.router.block(blockHandler);\n        });\n    }\n    unblockNavigation() {\n        if (!this.unblockNavigationFn)\n            return;\n        this.unblockNavigationFn();\n        this.unblockNavigationFn = null;\n        this.trace('unblock navigation');\n    }\n    //endregion\n    //region Utils\n    get options() {\n        return this.router.options;\n    }\n    get pathResolver() {\n        return this.router.pathResolver;\n    }\n    trace(text) {\n        this.router.trace(this.id, text);\n    }\n}\nexports.Task = Task;\nTask.id = (p) => globals_1.createPathStr(p);\n","import React from 'react'\nimport {ActionData, IRoutableProps, Link, useDocumentTitle} from '../routing'\n\nexport const IndexPage = (props: IRoutableProps) => {\n  useDocumentTitle(props)\n\n  return (<div>\n    <Link href=\"/first\">First component</Link><br/><br/>\n    <Link href=\"/second\" ctx={{title: 'first'}}>Second component</Link><br/><br/>\n    <Link href=\"/hello\" ctx={{title: `page that doesn't exist`}}>page that doesn't exist</Link><br/><br/>\n    <Link href=\"/protected-by-authorization\">authorization required</Link><br/><br/>\n    <Link href=\"/can-deactivate-check\">can deactivate check</Link><br/><br/>\n    <Link href=\"https://google.com\">google.com</Link><br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </div>)\n}\n","import React from 'react';\nimport {ActionData, IRoutableProps, Link} from '../routing'\n\nexport class FirstPage extends React.Component<IRoutableProps, any> {\n\n  constructor(props: IRoutableProps) {\n    super(props)\n    const title = props?.routeActionData?.note?.title\n    if (title) {\n      document.title = title\n    }\n  }\n\n  render() {\n    return (<>\n      <p>First works!</p>\n      <Link href=\"/first/to-pic\">to pic</Link><br/><br/>\n      <Link href=\"/first/world?qwerty=123#asd\">page that doesn't exist</Link><br/><br/>\n      <ActionData actionData={this.props.routeActionData}/>\n    </>)\n  }\n}\n","import React from 'react';\nimport {ActionData, IRoutableProps, Link, useDocumentTitle} from '../../routing';\n\nexport const SecondPage = (props: IRoutableProps) => {\n  useDocumentTitle(props)\n  return (<>\n    <p>Second works!</p>\n    <Link href=\"/second/pic/pic\">Pic component</Link><br/><br/>\n    <Link href=\"/second/hello/world\">long time getting of action result</Link><br/><br/>\n    <Link href=\"/first#warning\">first</Link><br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </>);\n}\n","import React from 'react';\nimport {ActionData, IRoutableProps, useDocumentTitle} from '../../../routing';\nimport pic from './pic.png'\n\nexport const PicPage = (props: IRoutableProps) => {\n  useDocumentTitle(props)\n  return (<>\n    <p>Pic works!</p>\n    <img src={pic} alt=\"Routing\" width=\"200\"/><br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </>);\n}\n","export default \"data:image/png;base64,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\"","import {ActionData, IRoutableProps, Link, useDocumentTitle} from '../routing'\nimport React from 'react'\n\nexport const CanDeactivateCheckPage = (props: IRoutableProps) => {\n  useDocumentTitle(props)\n\n  return (<div>\n    <p>Try to leave the page</p>\n    <Link href=\"/first\">first</Link><br/><br/>\n    <Link href=\"/second\">second</Link><br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </div>)\n}\n","import {GoTo} from '@do-while-for-each/path-resolver'\nimport {BrowserRouter} from '@do-while-for-each/browser-router'\nimport {container} from 'tsyringe'\n\nexport const LOGGED_KEY = 'logged-key'\n\nexport class AuthService {\n\n  redirectTo: GoTo = {pathname: ''}\n\n  private router: BrowserRouter\n\n  constructor() {\n    this.router = container.resolve<BrowserRouter>(BrowserRouter)\n  }\n\n  isLoggedIn(): boolean {\n    return !!localStorage.getItem(LOGGED_KEY)\n  }\n\n  logIn(username: string, password: string) {\n    if (username && password) {\n      localStorage.setItem(LOGGED_KEY, username + password)\n      if (this.redirectTo)\n        this.router.redirect(this.redirectTo)\n    }\n  }\n\n  logOut() {\n    localStorage.removeItem(LOGGED_KEY)\n    this.router.go('/')\n  }\n}\n\n","import React from 'react'\nimport {ActionData, IRoutableProps} from '../../routing'\nimport {useDIInstance} from '../../di/useDIInstance'\nimport {AuthService} from './auth.service'\n\nexport const ProtectedByAuthorization = (props: IRoutableProps) => {\n  const [auth] = useDIInstance(AuthService)\n\n  const logOut = () => auth.logOut()\n\n  return (<div>\n    <p>Congratulations!</p>\n    <p>You have access to this protected by authorization page.</p>\n    <button onClick={logOut}>Log Out</button>\n    <br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </div>)\n}\n","import React, {useState} from 'react'\nimport {ActionData, IRoutableProps} from '../../routing'\nimport {useDIInstance} from '../../di/useDIInstance'\nimport {AuthService} from './auth.service'\n\nexport const LoginPage = (props: IRoutableProps) => {\n  const [auth] = useDIInstance(AuthService)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const checkAuth = () => {\n    if (!(username && password))\n      alert('fill fields with something')\n    else\n      auth.logIn(username, password)\n  }\n\n  return (<>\n    <h3>Please log in</h3>\n    <div>\n      <label htmlFor=\"username\">username:</label>\n      <input required type=\"text\" id=\"username\" value={username} onChange={(event) => setUsername(event.target.value)}/>\n    </div>\n    <div>\n      <label htmlFor=\"password\">password:</label>\n      <input required type=\"password\" id=\"password\" value={password} onChange={(event) => setPassword(event.target.value)}/>\n    </div>\n    <button onClick={checkAuth}>Check</button>\n    <br/><br/>\n    <ActionData actionData={props.routeActionData}/>\n  </>)\n}\n","import {container} from 'tsyringe'\nimport {Route, RoutingResult} from '@do-while-for-each/path-resolver'\nimport {Location} from '@do-while-for-each/browser-router'\nimport React, {ReactElement} from 'react'\nimport {AuthService, CanDeactivateCheckPage, FirstPage, IndexPage, LoginPage, PicPage, ProtectedByAuthorization, SecondPage} from './pages'\nimport {Ctx, IRouteNote, NotFound, RouteActionData} from './routing'\n\n\nexport const routes: Route<ReactElement, Ctx, RoutingResult<ReactElement, Ctx>, IRouteNote>[] = [\n  {path: '', component: <IndexPage/>, note: {title: 'Index'}},\n  {\n    path: 'first', component: <FirstPage/>, note: {title: 'First page'}, children: [\n      {path: 'to-pic', customTo: {pathname: '/second/12/pic', search: 'hello=world', hash: 'pic'}},\n      {path: '(.*)', redirectTo: '/not-found'},\n    ]\n  },\n  {\n    path: 'second', component: <SecondPage/>, note: {title: 'Second page'}, children: [\n      {\n        path: ':page', children: [\n          {path: 'pic', component: <PicPage/>, note: {title: 'Pic'}},\n          {path: '(.*)', action: longTimeGettingOfActionResult},\n        ]\n      },\n    ]\n  },\n  {path: 'protected-by-authorization', canActivate: passIfLoggedIn, component: <ProtectedByAuthorization/>},\n  {path: 'can-deactivate-check', canDeactivate: canDeactivateFn, component: <CanDeactivateCheckPage/>},\n  {path: 'login', component: <LoginPage/>},\n  {path: 'not-found', component: <NotFound/>, note: {title: 'Not found page'}},\n  {path: '(.*)', redirectTo: '/not-found'}\n]\n\n\nfunction longTimeGettingOfActionResult(data: RouteActionData): Promise<RoutingResult<ReactElement, Ctx>> {\n  return new Promise(resolve => {\n    setTimeout(() => resolve({redirectTo: 'pic'}), 5_000)\n  })\n}\n\nasync function passIfLoggedIn(data: RouteActionData): Promise<RoutingResult<ReactElement, Ctx>> {\n  const auth = container.resolve(AuthService)\n  if (auth.isLoggedIn())\n    return {skip: true}\n  else {\n    auth.redirectTo = data.target // the user will be redirected here after successful login\n    return {redirectTo: 'login'}\n  }\n}\n\nasync function canDeactivateFn(tryRelocation: Location, data: RouteActionData): Promise<boolean> {\n  return window.confirm(`Are you sure you want to go to '${tryRelocation.pathname}' ?`)\n}\n","import {container} from 'tsyringe'\nimport {BrowserRouter, IBrowserRouterOptions} from '@do-while-for-each/browser-router'\nimport {routes} from '../routes'\nimport {AuthService} from '../pages'\n\nconst routerOptions: IBrowserRouterOptions = {\n  enableTrace: true,\n  injectRouteActionsDataToComponent: true,\n  pathResolver: {\n    enableTrace: true,\n  }\n}\n\nexport const initServices = () => {\n  container.register(BrowserRouter, {useValue: new BrowserRouter(routes, routerOptions)}) // singleton\n  container.register(AuthService, {useValue: new AuthService()}) // singleton\n}\n","import 'reflect-metadata'\nimport {initServices} from './di/di-container'\nimport {startRouter} from './routing'\nimport {routes} from './routes'\nimport './index.css'\n\ninitServices()\nstartRouter(routes, document.getElementById('root'))\n\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./core/contract\"), exports);\n__exportStar(require(\"./core/browser-router\"), exports);\n","import {useState} from 'react'\nimport {container, InjectionToken} from 'tsyringe'\n\nexport const useDIInstance = <T>(token: InjectionToken<T>): [T] => {\n  const [instance] = useState(() => container.resolve<T>(token))\n  return [instance]\n}\n","export * from './contract'\n\nexport * from './hooks/useDocumentTitle'\n\nexport * from './components/Link'\nexport * from './components/NotFound'\nexport * from './components/ActionData/ActionData'\n\nexport * from './start-router'\n","import {IRoutableProps} from '../contract';\nimport {useEffect} from 'react';\n\nexport const useDocumentTitle = ({routeActionData}: IRoutableProps) => {\n  useEffect(() => {\n    const title = routeActionData?.note?.title\n    if (title)\n      document.title = title\n  }, []) // eslint-disable-line\n}\n","import React, {useLayoutEffect, useRef} from 'react'\nimport autosize from 'autosize'\nimport './styles.css'\n\nexport const ActionData = ({actionData}: any) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  useLayoutEffect(() => {\n    if (!!textareaRef.current)\n      autosize(textareaRef.current)\n  }, [textareaRef])\n\n  return (\n    <div className=\"ActionData\">\n      <p className=\"ActionData_text\">route action data (injected):</p>\n      <textarea className=\"ActionData_listing\"\n                value={JSON.stringify(actionData || 'empty', null, 2)}\n                readOnly={true}\n                ref={textareaRef}/>\n    </div>\n  )\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultOptions = void 0;\nexports.defaultOptions = {\n    enableTrace: false,\n    injectRouteActionsDataToComponent: false,\n    pathResolver: {\n        enableTrace: false,\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultOptions = void 0;\nexports.defaultOptions = {\n    enableTrace: false,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneRoute = exports.cloneResult = void 0;\nexports.cloneResult = (r) => {\n    const r2 = Object.assign({}, r);\n    if (r2.customTo) {\n        r2.customTo = Object.assign({}, r2.customTo);\n    }\n    return r2;\n};\nexports.cloneRoute = (r) => {\n    const r2 = exports.cloneResult(r);\n    if (r2.note)\n        r2.note = Object.assign({}, r2.note);\n    return r2;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEqualPaths = exports.createPathStr = exports.createPath = exports.convertGoToFromStr = exports.getUrl = exports.isGoAway = exports.addFirstSymbol = exports.excludeFirstSymbol = void 0;\nexports.excludeFirstSymbol = (symbol, target) => target\n    ? target[0] === symbol ? target.slice(1) : target\n    : target;\nexports.addFirstSymbol = (symbol, target) => target\n    ? target[0] === symbol ? target : symbol + target\n    : target;\nexports.isGoAway = ({ origin, target }) => target === '_blank'\n    || origin && origin !== window.location.origin // eslint-disable-line\n;\nexports.getUrl = ({ href, origin, pathname, search, hash }) => href || `${origin || ''}${pathname || ''}${search || ''}${hash || ''}`;\nexports.convertGoToFromStr = (to) => typeof to === 'string'\n    ? { pathname: to }\n    : to;\nexports.createPath = ({ pathname = '', search = '', hash = '' }) => ({ pathname, search, hash });\nexports.createPathStr = ({ pathname, search, hash }) => {\n    if (!pathname)\n        return '';\n    if (search)\n        search = search[0] === '?' ? search : '?' + search;\n    else\n        search = '';\n    if (hash)\n        hash = hash[0] === '#' ? hash : '#' + hash;\n    else\n        hash = '';\n    return pathname + search + hash;\n};\nexports.isEqualPaths = (p1, p2) => {\n    p1 = exports.createPath(p1);\n    p2 = exports.createPath(p2);\n    return p1.pathname === p2.pathname\n        && p1.search === p2.search\n        && p1.hash === p2.hash;\n};\n","import React, {HTMLProps, SyntheticEvent} from 'react'\nimport {BrowserRouter} from '@do-while-for-each/browser-router';\nimport {useDIInstance} from '../../di/useDIInstance'\n\nexport const Link = (props: IProps) => {\n  const {href, onClick, children, ctx} = props\n  const [router] = useDIInstance<BrowserRouter>(BrowserRouter)\n\n  const handleClick = (event: SyntheticEvent) => {\n    event.preventDefault()\n    onClick && onClick(event as any)\n    router.go(event.currentTarget as HTMLAnchorElement, ctx)\n  }\n  return (\n    <a {...props}\n       href={href}\n       onClick={handleClick}>\n      {children}\n    </a>\n  )\n}\n\ninterface IProps extends HTMLProps<HTMLAnchorElement> {\n  ctx?: any;\n}\n","import React from 'react'\nimport './style.css'\nimport {Link} from '../../routing'\n\n\nexport const GitGetCode = ({text, href}: IProps) => {\n\n  return (\n    <div className=\"git-get-code\">\n      <svg className=\"git-get-code_pic\" viewBox=\"0 0 438.549 438.549\">\n        <path d={githubSvgPath}/>\n      </svg>\n      <Link className=\"git-get-code_text\" href={href} target=\"_blank\">{text}</Link>\n    </div>\n  )\n}\n\ninterface IProps {\n  text: string;\n  href: string\n}\n\nconst githubSvgPath = 'M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365 c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63 c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996 c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136 c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559 c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559 c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997 c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851 c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136 c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41 c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126 c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817 c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994 c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849 c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24 c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979 c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146 c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995 c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906 C438.536,184.851,428.728,148.168,409.132,114.573z'\n","import React, {MutableRefObject, useRef} from 'react'\nimport classNames from 'classnames'\nimport './style.css'\n\n\nexport const BtnNavigate = ({isBack, onClick}: IProps) => {\n  const buttonRef: MutableRefObject<HTMLButtonElement | null> = useRef(null)\n\n  const props = () => {\n    const className = classNames(\n      'btn-navigate',\n      isBack ? 'btn-navigate--back' : 'btn-navigate--forward'\n    )\n    return {\n      className,\n      title: isBack ? 'Back' : 'Forward',\n      onClick: handleClick,\n    }\n  }\n\n  const handleClick = () => {\n    onClick && onClick()\n    buttonRef?.current?.focus()\n  }\n\n\n  return (\n    <button ref={buttonRef} {...props()}>\n      <svg>\n        <path d={arrowPath}/>\n      </svg>\n    </button>\n  )\n}\n\nconst arrowPath = 'M19.9688 2.00049L2.99825 18.5843L19.9688 35.168'\n\ninterface IProps {\n  isBack?: boolean;\n  onClick: any;\n}\n","import React from 'react'\nimport {BrowserRouter} from '@do-while-for-each/browser-router'\nimport './style.css'\nimport {useDIInstance} from '../../di/useDIInstance'\nimport {GitGetCode} from '../GitGetCode/GitGetCode'\nimport {BtnNavigate} from '../BtnNavigate/BtnNavigate'\nimport {Link} from '../../routing'\n\n\nexport const Header = () => {\n  const [router] = useDIInstance<BrowserRouter>(BrowserRouter)\n\n  const backFn = () => router.goBack()\n  const forwardFn = () => router.goForward()\n\n  return (\n    <header className=\"page-header\">\n      <nav className=\"page-header_nav\">\n        <BtnNavigate isBack={true} onClick={backFn}/>\n        <Link href=\"/\">Index</Link>\n        <BtnNavigate isBack={false} onClick={forwardFn}/>\n      </nav>\n      <div className=\"page-header_info\">\n        <ol>\n          <li>The routes used can be seen&nbsp;\n            <Link href=\"https://gitlab.com/wizards-lab/routing/-/blob/master/packages/tests-manual/src/routes.tsx#L9\" target=\"_blank\">here</Link>\n          </li>\n          <li>Trace output you can see in console</li>\n        </ol>\n      </div>\n      <div className=\"page-header_get-code\">\n        <GitGetCode href=\"https://gitlab.com/wizards-lab/routing/-/tree/master/packages/tests-manual\"\n                    text='get source of this demo'/>\n      </div>\n    </header>\n  )\n}\n\n","import React from 'react'\n\n\nexport const Main = (props: any) => {\n\n  return (\n    <main>\n      {props.children}\n    </main>\n  )\n}\n","import React from 'react'\nimport {Link} from '../../routing'\nimport './style.css'\n\n\nexport const Footer = () => {\n\n  return (\n    <div className=\"page-footer\">\n      <Link href=\"https://gitlab.com/wizards-lab/routing/-/issues\" target=\"_blank\">\n        For questions and suggestions\n      </Link>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Header} from '../../components/Header/Header'\nimport {Main} from '../../components/Main'\nimport './style.css'\nimport {Footer} from '../../components/Footer/Footer'\n\nexport const GeneralTemplate = (props: any) => {\n\n  return (\n    <div className=\"general-tmpl\">\n      <Header/>\n      <Main>\n        {props.children}\n      </Main>\n      <Footer/>\n    </div>\n  )\n}\n","import {Routes} from '@do-while-for-each/path-resolver'\nimport {BrowserRouter} from '@do-while-for-each/browser-router'\nimport React, {ReactElement} from 'react'\nimport ReactDOM from 'react-dom'\nimport {container} from 'tsyringe'\nimport {tap} from 'rxjs/operators'\nimport {GeneralTemplate} from '../templates/General/GeneralTemplate'\n\nexport const startRouter = (routes: Routes, root: HTMLElement | null) => {\n  if (!root)\n    throw new Error('Root routing element is not defined');\n\n  const router = container.resolve<BrowserRouter<ReactElement>>(BrowserRouter)\n\n  router.componentData$.pipe(\n    tap(({component, routeActionData}) => {\n\n      const container =\n        <GeneralTemplate>\n          {component}\n        </GeneralTemplate>;\n\n      ReactDOM.render(container, root)\n\n    }),\n  ).subscribe()\n\n  router.start()\n}\n","import React from 'react';\nimport {IRoutableProps} from '../contract';\nimport {ActionData} from './ActionData/ActionData';\nimport {getPreviousRouteActionData} from '../globals';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\n\nexport const NotFound = (props: IRoutableProps) => {\n  useDocumentTitle(props)\n\n  const {routeActionData} = props\n  const previous = getPreviousRouteActionData(routeActionData)\n  const notFoundTxt = previous\n    ? <span><code><b>{previous.target.pathname}</b></code> - not found</span>\n    : <span>Not found</span>\n\n  return (<>\n    <p>{`404. `}{notFoundTxt}</p>\n    <ActionData actionData={routeActionData}/>\n  </>)\n}\n\n","import {RouteActionData} from './contract';\n\nexport const getPreviousRouteActionData = (routeActionData?: RouteActionData): RouteActionData | undefined => {\n  if (routeActionData) {\n    return routeActionData.previous\n  }\n}\n\n"],"sourceRoot":""}